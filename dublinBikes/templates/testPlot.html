<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  </head>
  <body>
    <div id="chart_div" style="width: 100%; height: 500px;"></div>
    <p id="data">test</p>
    
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
    	if (this.readyState == 4 && this.status == 200) {
      			data = JSON.parse(xmlhttp.responseText);
      			
      			//document.getElementById("data").text = data;
      			document.getElementById("data").innerHTML = "Paragraph changed!";
		
			for (i=0;i<=data.length;i++) {
				if (data[i].Hour == 0) {
					alert(data[i].Hour);
				}
			}
    	}
  	};
  	xhttp.open("GET", "/weekly/42", true);
  	xhttp.send();
  	

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Hour', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
          ['0',  30, 28, 27, 28, 29, 30, 30],
          ['1',  28, 27, 28, 29, 24, 27, 24],
          ['2',  28, 27, 28, 29, 24, 27, 24],
          ['3',  25, 27, 28, 29, 24, 27, 24],
          ['4',  23, 27, 28, 29, 24, 27, 24],
          ['5',  20, 27, 28, 29, 24, 27, 24],
          ['6',  17, 27, 28, 29, 24, 27, 24],
          ['7',  14, 27, 28, 29, 24, 27, 24],
          ['8',  13, 27, 28, 29, 24, 27, 24],
          ['9',  2, 7, 2, 9, 4, 6, 3],
          ['10',  12, 27, 28, 29, 24, 27, 24],
          ['11',  8, 27, 28, 29, 24, 27, 24],
          ['12',  6, 27, 28, 29, 24, 27, 24],
          ['13',  5, 27, 28, 29, 24, 27, 24],
          ['14',  4, 27, 28, 29, 24, 27, 24],
          ['15',  3, 27, 28, 29, 24, 27, 24],
          ['16',  2, 7, 2, 9, 4, 6, 3],
          ['17',  28, 27, 28, 29, 24, 27, 24],
          ['18',  28, 27, 28, 29, 24, 27, 24],
          ['19',  28, 27, 28, 29, 24, 27, 24],
          ['20',  28, 27, 28, 29, 24, 27, 24],
          ['21',  28, 27, 28, 29, 24, 27, 24],
          ['22',  28, 27, 28, 29, 24, 27, 24],
          ['23',  28, 27, 28, 29, 24, 27, 24]
        ]);

        var options = {
          title: 'Weekly Occupancy Data (Number of Available Bikes)',
          hAxis: {title: 'Hour',  titleTextStyle: {color: '#333'}},
          vAxis: {minValue: 0},
          isStacked: "true"
        };

        var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
  </body>
</html>
